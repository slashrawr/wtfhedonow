<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

    
    <title>wtfhedonow?!</title>
    <style>      
        .roboto-200 {
        font-family: "Roboto", sans-serif;
        font-optical-sizing: auto;
        font-weight: 200;
        font-style: normal;
        font-variation-settings:
            "wdth" 100;
        }

        body {
            font-family: "Roboto", sans-serif;
            text-align: center;
            margin: 20px;
        }

        h1 {
            margin-bottom: 10px;
        }

        p {
            font-size: 16px;
            color: #555;
        }

        table {
            width: 80%;
            border-collapse: collapse;
            margin-top: 20px;
            margin-left: auto;
            margin-right: auto;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }

        th {
            background-color: #f4f4f4;
            text-align: center;
        }

        a {
            color: #000;
            text-decoration: none;
        }

        a:hover {
            color: #000;
            text-decoration: none;
        }

        tbody tr {
            transition: transform .2s;
        }

        tbody tr:hover {
            cursor:pointer; 
            transform: scale(1.03);
            background:#aaa;
            color:#000;
        }
    </style>
    <script>
        // Fetch and populate table with JSON data
        async function loadTableData() {
            try {
                const fetchResponse = await fetch('https://rawr-generic-bucket.s3.us-east-1.amazonaws.com/wtfhedonow/data.json',
                    {
                        method: 'GET',
                        mode: 'cors',
                        headers: {
                            'Origin': 'https://main.d392p52lqd4u4c.amplifyapp.com',
                            'Content-Type': 'application/json'
                        }
                    }
                );
                
                const data = await fetchResponse.json();

                const tableBody = document.querySelector("#data-table tbody");
                tableBody.innerHTML = ""; // Clear existing content

                data.forEach(entry => {
                    const row = document.createElement("tr");

                    // Extracting date from the first URL
                    const url = entry.urls[0];
                    const urlParts = url.match(/\d{4}\/\d{2}\/\d{2}/);
                    const date = urlParts ? urlParts[0].replace(/\//g, ' ') : "N/A";

                    row.innerHTML = `
                        <td><a href="${url}" target="_blank">${date}</a></td>
                        <td><a href="${url}" target="_blank">${entry.summary}</a></td>
                        <td>${entry.urls.map(url => `<a href="${url}" target="_blank">Source</a>`).join("\n")}</td>
                    `;

                    tableBody.appendChild(row);
                });
            } catch (error) {
                console.error("Error loading data:", error);
            }
        }

        // Load data on page load
        window.onload = loadTableData;
    </script>
</head>
<body>
    <h1>wtfhedonow?!</h1>
    <p>A summary of recent actions and decisions made by the Trump administration.</p>
    <table id="data-table">
        <thead>
            <tr>
                <th style="width: 20%;">Date</th>
                <th style="width: auto;">Summary</th>
                <th style="width: 20%; text-align: center;">Source</th>
            </tr>
        </thead>
        <tbody>
            <!-- Data will be inserted here dynamically -->
        </tbody>
    </table>
    <div class="flex-container">
        <div>
            <h2>Model</h2>
            us.anthropic.claude-3-5-haiku-20241022-v1:0
        </div>
        <div>
            <h2>Prompt</h2>
            You are an unbiased political analyst. You carefully analyse news articles every day as part of chronicling President Donald J. Trump's 2nd term. Below is a collection of articles from today. Summarise each article into a single sentence highlighting actions and activities by Donald J. Trump and his administration that are ethically questionable, potentially illegal, undermine American institutions and American constitution or would otherwise be considered "dumb" by any sensible individual. It is vital you are as objective as possible and do not embellish or read into details that are no there. Only include articles that are directly related to President Trump or his administration. If there is nothing improper, then ignore the article. Where articles describe the same thing, combine them into a single summary. Phrase summaries in the third person. Cite the respective article URL or set of URLs if articles are combined along with the summary. Leave out the preamble and postamble. Return the summaries in JSON format with the following schema: [ { "summary" : &lt;summary&gt;, "urls" : &lt;urls&gt; } ]
        </div>
        <div>
            <h2>Repo</h2>
            https://github.com/slashrawr/wtfhedonow
        </div>
      </div>
</body>
</html>
